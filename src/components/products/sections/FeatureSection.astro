---
import { Feature } from "@/types/types";
const { featuresContent, features } = Astro.props;
const { title, description, demoLink } = featuresContent;
const { summaryFeatures } = Astro.props;

const getColor = (color) => {
  switch (color) {
    case "primaryGreen":
      return "text-[#C9D94E]";
    case "primaryBlue":
      return "text-[#0588A6]";
    default:
      return "text-white";
  }
};
---

<section class="relative mt-20">
  <div
    class="max-w-[60%] mx-auto flex flex-col items-center max-lg:max-w-[90%]"
  >
    <div
      class="flex flex-col gap-10 justify-center text-center max-lg:w-full z-10"
    >
      <h3 class="font-bold text-2xl dark:text-white">
        {title}
      </h3>
      <p class="dark:text-white">
        {description}
      </p>
      <a
        href={demoLink}
        class="rounded-lg border-[3px] border-[#0588A6] uppercase font-semibold py-2 px-4 self-center text-xs hover:bg-[#0588A6] hover:text-white transition-all cursor-pointer"
        >See How It Works</a
      >
    </div>
    <iframe
      class="w-full h-80 lg:w-4/6 z-10 mt-60"
      src="https://www.youtube.com/embed/mnOX6C_o5-I"
      title="Blink View Directory"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen></iframe>
    <div class="flex flex-col gap-10 mt-20 w-full z-10">
      <h3 class="text-white font-bold text-2xl text-center dark:text-white">
        This what you are getting
      </h3>
      <div class="flex flex-wrap justify-center gap-4 w-full">
        {
          summaryFeatures.map(({ id, metric, description, color }) => (
            <div class="rounded-xl bg-[#060E40] p-12 flex flex-col flex-grow gap-8 justify-center items-center">
              <h4 class={`${getColor(color)} font-bold text-6xl`}>{metric}</h4>
              <p class="text-white">{description}</p>
            </div>
          ))
        }
      </div>
    </div>
    <div class="mt-10 flex flex-col items-center gap-10 z-10">
      <section
        class="py-12 px-16 grid grid-cols-2 gap-4 bg-[#060E40] self-center rounded-3xl max-lg:grid-cols-1 max-lg:px-8"
      >
        <div class="flex flex-col col-span-2 pb-8 text-white">
          <h2 class="font-bold text-3xl self-center">Key Features</h2>
        </div>
        {
          features.map(({ id, title, description, imagePath }: Feature) => (
            <div class="flex flex-col col-span-2 lg:col-span-1 gap-4 text-white max-lg:items-center">
              <img src={imagePath} alt="" class="w-16 h-16 object-contain" />
              <h3 class="font-bold">{title}</h3>
              <p class="text-gray-200 mx-3">{description}</p>
            </div>
          ))
        }
      </section>
    </div>
  </div>
  <div class="absolute h-[90rem] w-full top-0">
    <img
      src="/assets/products/org_directory/BG_SVG.svg"
      alt=""
      class="w-full h-full max-lg:object-cover"
    />
  </div>
</section>
